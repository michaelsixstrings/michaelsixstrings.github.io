<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="/css/style.css" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Indie Flower">
    <title>Shop</title>
  </head>
  <body>
    <section class="hero is-large">
      <div class="hero-head">
                    <nav class="navbar">
          <div class="container">
            <div class="navbar-brand">
              <a class="navbar-item">
                <img src="https://www.six-strings.com.au/img/sixstring.png">
              </a>
            </div>
            <div id="navbarMenuHeroB" class="navbar-menu">
              <div class="navbar-end">
                <a href="/" class="navbar-item">
                  HOME
                </a>
                <a href="/about" class="navbar-item">
                  ABOUT
                </a>
                <a href="/buy" class="navbar-item">
                  SHOP
                </a>
                <a href="/contact" class="navbar-item">
                  CONTACT
                </a>
                <a href="https://www.facebook.com" class="navbar-item">
                  <img src="/img/fb.png" style="width: 58px; max-height: none; max-width: none;" >
                </a>
              </div>
            </div>
          </div>
        </nav>
      </div>
      <article class="page-layout">
  <div class="container">
        <div class="content mt-5">
          <h1>Shop</h1>

          <div class="columns">
            <div class="column is-5">
              <p>SIX STRINGS McLaren Vale Shiraz 2021 Vintage</p>
<table>
<thead>
<tr>
<th>Bottles</th>
<th>Each</th>
<th>Total (excluding freight)</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>$ 22.00</td>
<td>$ 22.00</td>
</tr>
<tr>
<td>6</td>
<td>$ 20.00</td>
<td>$ 120.00</td>
</tr>
<tr>
<td>12</td>
<td>$ 16.66</td>
<td>$ 200.00</td>
</tr>
</tbody>
</table>
<p><span class="form-instructions">Place an order below and we will e-mail you an invoice with freight costs and payment details</span></p>
<div class="form-section">
    <div class="form-details">
        <div class="row">
            <span class="label">Name</span>
            <input type="text" id="name" />
        </div>
        <div class="row">
            <span class="label">E-mail</span>
            <input type="email" id="email" />
        </div>
        <div class="row">
            <span class="label">Phone</span>
            <input type="tel" id="phone" />
        </div>
        <div class="row">
            <span class="label">Bottles</span>
            <input type="number" id="bottles" />
        </div>
        <div class="row">
            <span class="label">Comments</span>
            <input type="text" id="comments" />
        </div>
        <div class="row form-submit" id="submit">Purchase</div>
        <br />
    </div>
</div>
<script type="text/javascript">
    let form = document.getElementsByClassName('form-details')[0]
    document.getElementById('submit').onclick = async function(){
        document.getElementsByClassName('form-instructions')[0].classList.add('hidden');
        document.getElementById('submit').onclick = null;
        let paylod = {
            name: document.getElementById('name').value, 
             email: document.getElementById('email').value,
             phone: document.getElementById('phone').value,
             quantity: document.getElementById('bottles').value,
             comments: document.getElementById('comments').value
            }
        document.getElementsByClassName('form-details')[0].classList.add('no-border');
        form.innerHTML = '<div class="busy"></div>';
        let resp = await fetch('https://u-sws.in/six-strings/contact', {method:'POST', body: JSON.stringify(paylod), mode: 'cors'})
        if (resp.ok) {
            form.innerHTML = '<div><p>Your details have been successfully submitted.</p><p>We wil be in touch shortly.</p></div>'
        } else {
            form.innerHTML = '<div><p>An error has occured while processing your details.</p><p>Please check your details and try again.</p></div>'
        }   
    }
</script>
<style>
    table {
        max-width:400px;
    }

    .content table tbody td {
        text-align: right;
        padding-right:20px;
    }

</style>

              </div>
              <div class="column is-offset-1">
               <img class="content-img" src="/img/shiraz2021.png">
               </div>

          </div>
            </div>
            
  </div>
</article>
  </body>
</html>